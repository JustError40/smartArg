{% extends "base.html" %}

{% block title %}–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π{% endblock %}

{% block content %}
<h2>–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π —Å—Ç—É–¥–µ–Ω—Ç–∞</h2>

<form class="row g-3 mt-3 mb-4" method="get">
    <div class="col-auto">
        <select class="form-select" name="type">
            <option value="">–í—Å–µ —Ç–∏–ø—ã</option>
            <option value="deadline" {% if request.GET.type == 'deadline' %}selected{% endif %}>–î–µ–¥–ª–∞–π–Ω—ã</option>
            <option value="info" {% if request.GET.type == 'info' %}selected{% endif %}>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</option>
            <option value="link" {% if request.GET.type == 'link' %}selected{% endif %}>–°—Å—ã–ª–∫–∏</option>
        </select>
    </div>
    <div class="col-auto">
        <button type="submit" class="btn btn-primary mb-3">–§–∏–ª—å—Ç—Ä</button>
    </div>
</form>

<div class="list-group">
    {% for entry in entries %}
    <a href="#" class="list-group-item list-group-item-action" aria-current="true">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">
                {% if entry.entry_type == 'deadline' %}üö®{% elif entry.entry_type == 'link' %}üîó{% else %}‚ÑπÔ∏è{% endif %}
                {{ entry.get_entry_type_display }}
            </h5>
            <small>{{ entry.created_at|date:"d.m.Y" }}</small>
        </div>
        <p class="mb-1">{{ entry.content }}</p>
        <small class="text-muted">–ò—Å—Ç–æ—á–Ω–∏–∫: {{ entry.source_message.chat.title }} ({{ entry.source_message.sender_name }})</small>
    </a>
    {% empty %}
    <p>–ó–∞–ø–∏—Å–µ–π –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.</p>
    {% endfor %}
</div>
{% endblock %}
